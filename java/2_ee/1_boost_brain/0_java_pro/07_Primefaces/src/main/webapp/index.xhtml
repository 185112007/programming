<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" 
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml"
	xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
	xmlns:h="http://xmlns.jcp.org/jsf/html"
	xmlns:f="http://xmlns.jcp.org/jsf/core"
	xmlns:p="http://primefaces.org/ui">

<h:head>Shop</h:head>
<body>
	<h:form>
		<p:panel header="Creating Things">
			<p:panelGrid columns="2">
				<p:column>
					<p:inputText value="#{orderBean.name}" />
				</p:column>
				<p:column>
					<p:inputText value="#{orderBean.quantity}" />
				</p:column>

				<p:column>
					Name
				</p:column>
				<p:column>
					Quantity
				</p:column>

				<p:column>
					<h:commandButton value="Create Thing"
						action="#{orderBean.createThing()}"/>
				</p:column>
				<p:column>
					<h:commandButton value="Create Order"
						action="#{orderBean.createOrder()}"/>
				</p:column>
			</p:panelGrid>
		</p:panel>
	
 		<p:panel header="Created Things">
			<p:dataTable value="#{orderBean.things}" var="thing" id="thngs">
				<p:column>
					<h:outputText value="#{thing.name}"/>
				</p:column>
				<p:column>
					<h:outputText value="#{thing.quantity}"/>
				</p:column>
				<p:column>
					<p:commandButton value="Add" action="#{orderBean.addThing(thing)}" update="thngs"/>
				</p:column>
			</p:dataTable>
		</p:panel>
	</h:form>
		<p:panel header="Added Things" id="thngs">
			<p:dataTable value="#{orderBean.thingsInOrder}" var="thing">
				<p:column>
					<h:outputText value="#{thing.name}"/>
				</p:column>
				<p:column>
					<h:outputText value="#{thing.quantity}"/>
				</p:column>
			</p:dataTable>
		</p:panel>
		
	
</body>
</html>
